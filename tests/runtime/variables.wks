# @desc: Variable (:var) macro functionality

# @test: "a"
# @expect: echo hello

# @test: "b"
# @expect: echo test

# @test: "c"
# @expect: echo alpha beta

# @test: "d"
# @expect: echo second

# @test: "e"
# @expect: echo []

# @test: "f"
# @expect: echo hello world!

# Test basic variable functionality

# Test 1: Basic variable definition and usage
:var "greeting" "hello"
a "Basic variable" +write %{{echo %(greeting)}}

# Test 2: Variable in description
:var "my_desc" "My Description"
b "%(my_desc)" +write %{{echo test}}

# Test 3: Multiple variables
:var "first" "alpha"
:var "second" "beta"
c "Multiple vars" +write %{{echo %(first) %(second)}}

# Test 4: Variable redefinition (last wins)
:var "override" "first"
:var "override" "second"
d "Redefined variable" +write %{{echo %(override)}}

# Test 5: Empty string variable
:var "empty" ""
e "Empty variable" +write %{{echo [%(empty)]}}

# Test 6: Variable with special characters
:var "special key" "hello world!"
f "Special chars" +write %{{echo %(special)}}

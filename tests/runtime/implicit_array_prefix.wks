# @desc: Implicit arrays within prefixes

# @test: "p a"
# @expect: child-a-3

# @test: "p d"
# @expect: child-d-0

# @test: "q a"
# @expect: child2-a-3

# @test: "q d"
# @expect: child2-d-0

:implicit-array-keys "dcba"

# Implicit arrays are sorted alphabetically for display (dcba -> abcd)
# but %(index) preserves the original declaration index
p "Prefix"
{
    ... "Child %(index)" +write %{{child-%(key)-%(index)}}
}

q "Another prefix"
{
    ... "Child2 %(index)" +write %{{child2-%(key)-%(index)}}
}

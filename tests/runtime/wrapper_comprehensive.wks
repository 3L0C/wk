# @desc: Comprehensive wrapper tests

# @test: "o g"
# @expect: global-prefix firefox google.com

# @test: "o n"
# @expect: global-prefix firefox news.com

# @test: "u c"
# @expect: cmd

# Comprehensive wrapper test demonstrating %(wrap_cmd) interpolation and inheritance

:wrap-cmd "global-prefix"

# Test 1: %(wrap_cmd) interpolation in custom wrapper
o "Open with wrapper" +wrap "%(wrap_cmd) firefox"
{
    g "Google" +write %{{google.com}}
    n "News" +write %{{news.com}}
}

# Test 2: Child with explicit unwrap blocks inheritance
u "Unwrapped parent" +wrap "custom-wrap"
{
    c "Child unwrapped" +unwrap +write %{{cmd}}
}

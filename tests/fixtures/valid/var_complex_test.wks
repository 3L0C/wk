# Test complex variable interpolation scenarios

# Test 1: Chain of variable references
:var "a" "value_a"
:var "b" "%(a)"
:var "c" "%(b)"
a "Chain refs" +write %{{echo %(c)}}

# Test 2: Variable in description with multiple interpolations
:var "action" "Open"
:var "target" "File"
b "%(action) %(target)" +write %{{echo test}}

# Test 3: Variable in command with multiple interpolations
:var "cmd" "echo"
:var "arg1" "hello"
:var "arg2" "world"
c "Multi-interp cmd" +write %{{%(cmd) %(arg1) %(arg2)}}

# Test 4: Empty variable value (valid but empty)
:var "empty" ""
d "Empty var value" +write %{{echo [%(empty)]}}

# Test 5: Variable with spaces in value
:var "spaced" "hello world foo bar"
e "Spaced value" +write %{{echo %(spaced)}}

# Test 6: Variable overwrite with interpolation
:var "base" "first"
:var "base" "%(base)_extended"
f "Var overwrite" +write %{{echo %(base)}}
